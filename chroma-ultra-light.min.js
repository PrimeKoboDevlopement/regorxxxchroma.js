/**
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2023, Regorxxx
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 * 
 * 3. The name Regorxxx may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * -------------------------------------------------------
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * -------------------------------------------------------
 * 
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 * 
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 * 
 * ------------------------------------------------------
 * 
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 * 
 * @preserve
 */

!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(r="undefined"!=typeof globalThis?globalThis:r||self).chroma=t()}(this,(function(){"use strict";for(var r=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r<t?t:r>n?n:r},t=r,n={},e=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];e<o.length;e+=1){var a=o[e];n["[object "+a+"]"]=a.toLowerCase()}var i=function(r){return n[Object.prototype.toString.call(r)]||"object"},u=i,s=i,c=(Math.PI,function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var n=0;n<=3;n++)n<3?((r[n]<0||r[n]>255)&&(r._clipped=!0),r[n]=t(r[n],0,255)):3===n&&(r[n]=t(r[n],0,1));return r}),l=i,f=function(r,t){return void 0===t&&(t=null),r.length>=3?Array.prototype.slice.call(r):"object"==u(r[0])&&t?t.split("").filter((function(t){return void 0!==r[0][t]})).map((function(t){return r[0][t]})):r[0]},h=function(r){if(r.length<2)return null;var t=r.length-1;return"string"==s(r[t])?r[t].toLowerCase():null},g={format:{},autodetect:[]},d=h,p=c,v=l,b=g,m=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=this;if("object"===v(r[0])&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];var e=d(r),o=!1;if(!e){o=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(r,t){return t.p-r.p})),b.sorted=!0);for(var a=0,i=b.autodetect;a<i.length;a+=1){var u=i[a];if(e=u.test.apply(u,r))break}}if(!b.format[e])throw new Error("unknown format: "+r);var s=b.format[e].apply(null,o?r:r.slice(0,-1));n._rgb=p(s),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==v(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=m,w=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(w.Color,[null].concat(r)))};w.Color=y,w.version="2.7.0",w.hueNaN=!0;var x=w,N=f,_=h,F=function(r){return Math.round(100*r)/100},M=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=N(r,"hsla"),e=_(r)||"lsa";return n[0]=F(n[0]||0),n[1]=F(100*n[1])+"%",n[2]=F(100*n[2])+"%","hsla"===e||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,e="hsla"):n.length=3,e+"("+n.join(",")+")"},j=f,$=x,k=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=(r=j(r,"rgba"))[0],e=r[1],o=r[2];n/=255,e/=255,o/=255;var a,i,u=Math.min(n,e,o),s=Math.max(n,e,o),c=(s+u)/2;return s===u?(a=0,i=$.hueNaN?Number.NaN:0):a=c<.5?(s-u)/(s+u):(s-u)/(2-s-u),n==s?i=(e-o)/(s-u):e==s?i=2+(o-n)/(s-u):o==s&&(i=4+(n-e)/(s-u)),(i*=60)<0?i+=360:!$.hueNaN&&isNaN(i)&&(i=0),r.length>3&&void 0!==r[3]?[i,a,c,r[3]]:[i,a,c]},A=f,C=h,E=M,S=k,L=Math.round,I=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=A(r,"rgba"),e=C(r)||"rgb";return"hsl"==e.substring(0,3)?E(S(n),e):(n[0]=L(n[0]),n[1]=L(n[1]),n[2]=L(n[2]),("rgba"===e||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,e="rgba"),e+"("+n.slice(0,"rgb"===e?3:4).join(",")+")")},O=f,T=Math.round,B=function(){for(var r,t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,o,a,i=(t=O(t,"hsl"))[0],u=t[1],s=t[2];if(0===u)e=o=a=255*s;else{var c=[0,0,0],l=[0,0,0],f=s<.5?s*(1+u):s+u-s*u,h=2*s-f,g=i/360;c[0]=g+1/3,c[1]=g,c[2]=g-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?l[d]=h+6*(f-h)*c[d]:2*c[d]<1?l[d]=f:3*c[d]<2?l[d]=h+(f-h)*(2/3-c[d])*6:l[d]=h;e=(r=[T(255*l[0]),T(255*l[1]),T(255*l[2])])[0],o=r[1],a=r[2]}return t.length>3?[e,o,a,t[3]]:[e,o,a,1]},D=B,P=g,R=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,U=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,q=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,z=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,H=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=Math.round,K=function(r){var t;if(r=r.toLowerCase().trim(),P.format.named)try{return P.format.named(r)}catch(r){}if(t=r.match(R)){for(var n=t.slice(1,4),e=0;e<3;e++)n[e]=+n[e];return n[3]=1,n}if(t=r.match(U)){for(var o=t.slice(1,5),a=0;a<4;a++)o[a]=+o[a];return o}if(t=r.match(q)){for(var i=t.slice(1,4),u=0;u<3;u++)i[u]=J(2.55*i[u]);return i[3]=1,i}if(t=r.match(z)){for(var s=t.slice(1,5),c=0;c<3;c++)s[c]=J(2.55*s[c]);return s[3]=+s[3],s}if(t=r.match(G)){var l=t.slice(1,4);l[1]*=.01,l[2]*=.01;var f=D(l);return f[3]=1,f}if(t=r.match(H)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var g=D(h);return g[3]=+t[4],g}};K.test=function(r){return R.test(r)||U.test(r)||q.test(r)||z.test(r)||G.test(r)||H.test(r)};var Q=x,V=y,W=g,X=l,Y=I,Z=K;V.prototype.css=function(r){return Y(this._rgb,r)},Q.css=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(V,[null].concat(r,["css"])))},W.format.css=Z,W.autodetect.push({p:5,test:function(r){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===X(r)&&Z.test(r))return"css"}});var rr=f,tr=h,nr=Math.round,er=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=rr(r,"rgba"),e=n[0],o=n[1],a=n[2],i=n[3],u=tr(r)||"auto";void 0===i&&(i=1),"auto"===u&&(u=i<1?"rgba":"rgb");var s="000000"+((e=nr(e))<<16|(o=nr(o))<<8|(a=nr(a))).toString(16);s=s.substring(s.length-6);var c="0"+nr(255*i).toString(16);switch(c=c.substring(c.length-2),u.toLowerCase()){case"rgba":return"#"+s+c;case"argb":return"#"+c+s;default:return"#"+s}},or=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ar=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ir=function(r){if(r.match(or)){4!==r.length&&7!==r.length||(r=r.substring(1)),3===r.length&&(r=(r=r.split(""))[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var t=parseInt(r,16);return[t>>16,t>>8&255,255&t,1]}if(r.match(ar)){5!==r.length&&9!==r.length||(r=r.substring(1)),4===r.length&&(r=(r=r.split(""))[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var n=parseInt(r,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+r)},ur=x,sr=y,cr=l,lr=g,fr=er;sr.prototype.hex=function(r){return fr(this._rgb,r)},ur.hex=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(sr,[null].concat(r,["hex"])))},lr.format.hex=ir,lr.autodetect.push({p:4,test:function(r){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===cr(r)&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var hr=x,gr=y,dr=g,pr=f,vr=l,br=Math.round;gr.prototype.rgb=function(r){return void 0===r&&(r=!0),!1===r?this._rgb.slice(0,3):this._rgb.slice(0,3).map(br)},gr.prototype.rgba=function(r){return void 0===r&&(r=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===r?t:br(t):t}))},hr.rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(gr,[null].concat(r,["rgb"])))},dr.format.rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=pr(r,"rgba");return void 0===n[3]&&(n[3]=1),n},dr.autodetect.push({p:3,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=pr(r,"rgba"),"array"===vr(r)&&(3===r.length||4===r.length&&"number"==vr(r[3])&&r[3]>=0&&r[3]<=1))return"rgb"}});var mr=f,yr=h,wr=Math.round,xr=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=mr(r,"rgba"),e=(1!==n[3]?yr(r):"rgb")||"rgb";return n[0]=wr(n[0]),n[1]=wr(n[1]),n[2]=wr(n[2]),("rgba"===e||n.length>3&&n[3]<1&&"rgb"!==yr(r))&&(n[3]=n.length>3?n[3]:1,e="rgba"),"rgba"===e?n[3]<<24|n[0]<<16|n[1]<<8|n[2]:4278190080|n[0]<<16|n[1]<<8|n[2]},Nr=l,_r=function(r){if("number"==Nr(r)){var t=(r>>24&255)/255;if(t>=0&&t<=1){var n=r-4278190080;return[n>>16&255,n>>8&255,255&n,t]}}throw new Error("unknown android color: "+r)},Fr=x,Mr=y,jr=g,$r=l,kr=xr;Mr.prototype.android=function(r){return kr(this._rgb,r)},Fr.android=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Mr,[null].concat(r,["android"])))},jr.format.android=_r,jr.autodetect.push({p:5,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(1===r.length&&"number"===$r(r[0])){var n=(r[0]>>24&255)/255;if(n>=0&&n<=1){var e=r[0]-4278190080;if([e>>16&255,e>>8&255,255&e].every((function(r){return r>=0&&r<=255})))return"android"}}}}),y.prototype.get=function(r){var t=r.split("."),n=t[0],e=t[1],o=this[n]();if(e){var a=n.indexOf(e)-("ok"===n.substring(0,2)?2:0);if(a>-1)return o[a];throw new Error("unknown channel "+e+" in mode "+n)}return o};var Ar=y,Cr=x;return Cr.valid=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];try{return new(Function.prototype.bind.apply(Ar,[null].concat(r))),!0}catch(r){return!1}},Cr}));
