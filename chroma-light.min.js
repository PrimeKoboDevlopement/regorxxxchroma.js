/**
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2023, Regorxxx
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 * 
 * 3. The name Regorxxx may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * -------------------------------------------------------
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * -------------------------------------------------------
 * 
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 * 
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 * 
 * ------------------------------------------------------
 * 
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 * 
 * @preserve
 */

!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).chroma=r()}(this,(function(){"use strict";for(var t=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=1),t<r?r:t>n?n:t},r=t,n={},e=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];e<o.length;e+=1){var a=o[e];n["[object "+a+"]"]=a.toLowerCase()}var u=function(t){return n[Object.prototype.toString.call(t)]||"object"},i=u,l=u,c=Math.PI,h={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=r(t[n],0,255)):3===n&&(t[n]=r(t[n],0,1));return t},limit:t,type:u,unpack:function(t,r){return void 0===r&&(r=null),t.length>=3?Array.prototype.slice.call(t):"object"==i(t[0])&&r?r.split("").filter((function(r){return void 0!==t[0][r]})).map((function(r){return t[0][r]})):t[0]},last:function(t){if(t.length<2)return null;var r=t.length-1;return"string"==l(t[r])?t[r].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},s={format:{},autodetect:[]},f=h.last,g=h.clip_rgb,p=h.type,b=s,v=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=this;if("object"===p(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var e=f(t),o=!1;if(!e){o=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(t,r){return r.p-t.p})),b.sorted=!0);for(var a=0,u=b.autodetect;a<u.length;a+=1){var i=u[a];if(e=i.test.apply(i,t))break}}if(!b.format[e])throw new Error("unknown format: "+t);var l=b.format[e].apply(null,o?t:t.slice(0,-1));n._rgb=g(l),3===n._rgb.length&&n._rgb.push(1)};v.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var d=v,y=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(y.Color,[null].concat(t)))};y.Color=d,y.version="2.7.0",y.hueNaN=!0;var k=y,m=h.unpack,w=h.last,M=function(t){return Math.round(100*t)/100},_=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=m(t,"hsla"),e=w(t)||"lsa";return n[0]=M(n[0]||0),n[1]=M(100*n[1])+"%",n[2]=M(100*n[2])+"%","hsla"===e||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,e="hsla"):n.length=3,e+"("+n.join(",")+")"},N=h.unpack,x=k,j=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=(t=N(t,"rgba"))[0],e=t[1],o=t[2];n/=255,e/=255,o/=255;var a,u,i=Math.min(n,e,o),l=Math.max(n,e,o),c=(l+i)/2;return l===i?(a=0,u=x.hueNaN?Number.NaN:0):a=c<.5?(l-i)/(l+i):(l-i)/(2-l-i),n==l?u=(e-o)/(l-i):e==l?u=2+(o-n)/(l-i):o==l&&(u=4+(n-e)/(l-i)),(u*=60)<0?u+=360:!x.hueNaN&&isNaN(u)&&(u=0),t.length>3&&void 0!==t[3]?[u,a,c,t[3]]:[u,a,c]},F=h.unpack,A=h.last,E=function(t){return Math.round(100*t)/100},D=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=F(t,"lch"),e=A(t)||"lch";return n[0]=E(n[0])+"%",n[1]=E(n[1])+"%",n[2]=E(n[2]||0),"lcha"===e||n.length>3&&n[3]<1?n[3]="/"+(n.length>3?n[3]:1):n.length=3,"lch("+n.join(" ")+")"},$={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},C=$,I=h.unpack,O=Math.pow,R=function(t){return(t/=255)<=.04045?t/12.92:O((t+.055)/1.055,2.4)},S=function(t){return t>C.t3?O(t,1/3):t/C.t2+C.t0},L=function(t,r,n){return t=R(t),r=R(r),n=R(n),[S((.4124564*t+.3575761*r+.1804375*n)/C.Xn),S((.2126729*t+.7151522*r+.072175*n)/C.Yn),S((.0193339*t+.119192*r+.9503041*n)/C.Zn)]},P=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=I(t,"rgb"),e=n[0],o=n[1],a=n[2],u=L(e,o,a),i=u[0],l=u[1],c=116*l-16;return[c<0?0:c,500*(i-l),200*(l-u[2])]},T=h.unpack,Z=h.RAD2DEG,G=Math.sqrt,X=Math.atan2,Y=Math.round,q=k,H=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=T(t,"lab"),e=n[0],o=n[1],a=n[2],u=G(o*o+a*a),i=(X(a,o)*Z+360)%360;return 0===Y(1e4*u)&&(i=q.hueNaN?Number.NaN:0),[e,u,i]},K=h.unpack,B=P,U=H,W=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=K(t,"rgb"),e=n[0],o=n[1],a=n[2],u=B(e,o,a),i=u[0],l=u[1],c=u[2];return U(i,l,c)},z=h.unpack,J=h.last,Q=function(t){return Math.round(100*t)/100},V=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=z(t,"lab"),e=J(t)||"lab";return n[0]=Q(n[0])+"%",n[1]=Q(n[1])+"%",n[2]=Q(n[2])+"%","laba"===e||n.length>3&&n[3]<1?n[3]="/"+(n.length>3?n[3]:1):n.length=3,"lab("+n.join(" ")+")"},tt=h.unpack,rt=h.last,nt=function(t){return Math.round(100*t)/100},et=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=tt(t,"lab"),e=rt(t)||"lab";return n[0]=nt(100*n[0])+"%",n[1]=nt(100*n[1])+"%",n[2]=nt(100*n[2])+"%","laba"===e||n.length>3&&n[3]<1?n[3]="/"+(n.length>3?n[3]:1):n.length=3,"oklab("+n.join(" ")+")"},ot=h.unpack,at=Math.cbrt,ut=Math.pow,it=Math.sign,lt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=ot(t,"rgb"),e=n[0],o=n[1],a=n[2],u=[ct(e/255),ct(o/255),ct(a/255)],i=u[0],l=u[1],c=u[2],h=at(.4122214708*i+.5363325363*l+.0514459929*c),s=at(.2119034982*i+.6806995451*l+.1073969566*c),f=at(.0883024619*i+.2817188376*l+.6299787005*c);return[.2104542553*h+.793617785*s-.0040720468*f,1.9779984951*h-2.428592205*s+.4505937099*f,.0259040371*h+.7827717662*s-.808675766*f]};function ct(t){var r=Math.abs(t);return r<.04045?t/12.92:(it(t)||1)*ut((r+.055)/1.055,2.4)}var ht=h.unpack,st=h.last,ft=function(t){return Math.round(100*t)/100},gt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=ht(t,"lch"),e=st(t)||"lch";return n[0]=ft(100*n[0])+"%",n[1]=ft(100*n[1])+"%",n[2]=ft(n[2]||0),"lcha"===e||n.length>3&&n[3]<1?n[3]="/ "+(n.length>3?n[3]:1):n.length=3,"oklch("+n.join(" ")+")"},pt=h.unpack,bt=lt,vt=H,dt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=pt(t,"rgb"),e=n[0],o=n[1],a=n[2],u=bt(e,o,a),i=u[0],l=u[1],c=u[2];return vt(i,l,c)},yt=h.unpack,kt=h.last,mt=_,wt=j,Mt=D,_t=W,Nt=V,xt=P,jt=et,Ft=lt,At=gt,Et=dt,Dt=Math.round,$t=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=yt(t,"rgba"),e=kt(t)||"rgb";return"hsl"==e.substring(0,3)?mt(wt(n),e):"lch"==e.substring(0,3)?Mt(_t(n),e):"lab"==e.substring(0,3)?Nt(xt(n).concat([n.length>3?n[3]:1]),e):"oklab"==e.substring(0,5)?jt(Ft(n).concat([n.length>3?n[3]:1]),"lab"):"oklch"==e.substring(0,5)?At(Et(n).concat([n.length>3?n[3]:1]),"lch"):(n[0]=Dt(n[0]),n[1]=Dt(n[1]),n[2]=Dt(n[2]),("rgba"===e||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,e="rgba"),e+"("+n.slice(0,"rgb"===e?3:4).join(",")+")")},Ct=h.unpack,It=Math.round,Ot=function(){for(var t,r=[],n=arguments.length;n--;)r[n]=arguments[n];var e,o,a,u=(r=Ct(r,"hsl"))[0],i=r[1],l=r[2];if(0===i)e=o=a=255*l;else{var c=[0,0,0],h=[0,0,0],s=l<.5?l*(1+i):l+i-l*i,f=2*l-s,g=u/360;c[0]=g+1/3,c[1]=g,c[2]=g-1/3;for(var p=0;p<3;p++)c[p]<0&&(c[p]+=1),c[p]>1&&(c[p]-=1),6*c[p]<1?h[p]=f+6*(s-f)*c[p]:2*c[p]<1?h[p]=s:3*c[p]<2?h[p]=f+(s-f)*(2/3-c[p])*6:h[p]=f;e=(t=[It(255*h[0]),It(255*h[1]),It(255*h[2])])[0],o=t[1],a=t[2]}return r.length>3?[e,o,a,r[3]]:[e,o,a,1]},Rt=Ot,St=s,Lt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Pt=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Tt=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Zt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Gt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Xt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Yt=Math.round,qt=function(t){var r;if(t=t.toLowerCase().trim(),St.format.named)try{return St.format.named(t)}catch(t){}if(r=t.match(Lt)){for(var n=r.slice(1,4),e=0;e<3;e++)n[e]=+n[e];return n[3]=1,n}if(r=t.match(Pt)){for(var o=r.slice(1,5),a=0;a<4;a++)o[a]=+o[a];return o}if(r=t.match(Tt)){for(var u=r.slice(1,4),i=0;i<3;i++)u[i]=Yt(2.55*u[i]);return u[3]=1,u}if(r=t.match(Zt)){for(var l=r.slice(1,5),c=0;c<3;c++)l[c]=Yt(2.55*l[c]);return l[3]=+l[3],l}if(r=t.match(Gt)){var h=r.slice(1,4);h[1]*=.01,h[2]*=.01;var s=Rt(h);return s[3]=1,s}if(r=t.match(Xt)){var f=r.slice(1,4);f[1]*=.01,f[2]*=.01;var g=Rt(f);return g[3]=+r[4],g}};qt.test=function(t){return Lt.test(t)||Pt.test(t)||Tt.test(t)||Zt.test(t)||Gt.test(t)||Xt.test(t)};var Ht=k,Kt=d,Bt=s,Ut=h.type,Wt=$t,zt=qt;Kt.prototype.css=function(t){return Wt(this._rgb,t)},Ht.css=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(Kt,[null].concat(t,["css"])))},Bt.format.css=zt,Bt.autodetect.push({p:5,test:function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&"string"===Ut(t)&&zt.test(t))return"css"}});var Jt=h.unpack,Qt=h.last,Vt=Math.round,tr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=Jt(t,"rgba"),e=n[0],o=n[1],a=n[2],u=n[3],i=Qt(t)||"auto";void 0===u&&(u=1),"auto"===i&&(i=u<1?"rgba":"rgb");var l="000000"+((e=Vt(e))<<16|(o=Vt(o))<<8|(a=Vt(a))).toString(16);l=l.substring(l.length-6);var c="0"+Vt(255*u).toString(16);switch(c=c.substring(c.length-2),i.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},rr=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,nr=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,er=function(t){if(t.match(rr)){4!==t.length&&7!==t.length||(t=t.substring(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var r=parseInt(t,16);return[r>>16,r>>8&255,255&r,1]}if(t.match(nr)){5!==t.length&&9!==t.length||(t=t.substring(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},or=k,ar=d,ur=h.type,ir=s,lr=tr;ar.prototype.hex=function(t){return lr(this._rgb,t)},or.hex=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(ar,[null].concat(t,["hex"])))},ir.format.hex=er,ir.autodetect.push({p:4,test:function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&"string"===ur(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var cr=h.unpack,hr=h.type,sr=k,fr=d,gr=s,pr=j;fr.prototype.hsl=function(){return pr(this._rgb)},sr.hsl=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(fr,[null].concat(t,["hsl"])))},gr.format.hsl=Ot,gr.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=cr(t,"hsl"),"array"===hr(t)&&3===t.length)return"hsl"}});var br=$,vr=h.unpack,dr=Math.pow,yr=function(t){return 255*(t<=.00304?12.92*t:1.055*dr(t,1/2.4)-.055)},kr=function(t){return t>br.t1?t*t*t:br.t2*(t-br.t0)},mr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,e,o,a=(t=vr(t,"lab"))[0],u=t[1],i=t[2];return e=(a+16)/116,n=isNaN(u)?e:e+u/500,o=isNaN(i)?e:e-i/200,e=br.Yn*kr(e),n=br.Xn*kr(n),o=br.Zn*kr(o),[yr(3.2404542*n-1.5371385*e-.4985314*o),yr(-.969266*n+1.8760108*e+.041556*o),yr(.0556434*n-.2040259*e+1.0572252*o),t.length>3?t[3]:1]},wr=h.unpack,Mr=h.type,_r=k,Nr=d,xr=s,jr=P;Nr.prototype.lab=function(){return jr(this._rgb)},_r.lab=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(Nr,[null].concat(t,["lab"])))},xr.format.lab=mr,xr.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=wr(t,"lab"),"array"===Mr(t)&&3===t.length)return"lab"}});var Fr=h.unpack,Ar=Math.pow,Er=Math.sign,Dr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=(t=Fr(t,"lab"))[0],e=t[1],o=t[2],a=Ar(n+.3963377774*e+.2158037573*o,3),u=Ar(n-.1055613458*e-.0638541728*o,3),i=Ar(n-.0894841775*e-1.291485548*o,3);return[255*$r(4.0767416621*a-3.3077115913*u+.2309699292*i),255*$r(-1.2684380046*a+2.6097574011*u-.3413193965*i),255*$r(-.0041960863*a-.7034186147*u+1.707614701*i),t.length>3?t[3]:1]};function $r(t){var r=Math.abs(t);return r>.0031308?(Er(t)||1)*(1.055*Ar(r,1/2.4)-.055):12.92*t}var Cr=h.unpack,Ir=h.type,Or=k,Rr=d,Sr=s,Lr=lt;Rr.prototype.oklab=function(){return Lr(this._rgb)},Or.oklab=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(Rr,[null].concat(t,["oklab"])))},Sr.format.oklab=Dr,Sr.autodetect.push({p:3,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Cr(t,"oklab"),"array"===Ir(t)&&3===t.length)return"oklab"}});var Pr=k,Tr=d,Zr=s,Gr=h.unpack,Xr=h.type,Yr=Math.round;Tr.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Yr)},Tr.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(r,n){return n<3?!1===t?r:Yr(r):r}))},Pr.rgb=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(Tr,[null].concat(t,["rgb"])))},Zr.format.rgb=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=Gr(t,"rgba");return void 0===n[3]&&(n[3]=1),n},Zr.autodetect.push({p:3,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Gr(t,"rgba"),"array"===Xr(t)&&(3===t.length||4===t.length&&"number"==Xr(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var qr=h.unpack,Hr=h.last,Kr=Math.round,Br=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=qr(t,"rgba"),e=(1!==n[3]?Hr(t):"rgb")||"rgb";return n[0]=Kr(n[0]),n[1]=Kr(n[1]),n[2]=Kr(n[2]),("rgba"===e||n.length>3&&n[3]<1&&"rgb"!==Hr(t))&&(n[3]=n.length>3?n[3]:1,e="rgba"),"rgba"===e?n[3]<<24|n[0]<<16|n[1]<<8|n[2]:4278190080|n[0]<<16|n[1]<<8|n[2]},Ur=h.type,Wr=function(t){if("number"==Ur(t)){var r=(t>>24&255)/255;if(r>=0&&r<=1){var n=t-4278190080;return[n>>16&255,n>>8&255,255&n,r]}}throw new Error("unknown android color: "+t)},zr=k,Jr=d,Qr=s,Vr=h.type,tn=Br;Jr.prototype.android=function(t){return tn(this._rgb,t)},zr.android=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(Jr,[null].concat(t,["android"])))},Qr.format.android=Wr,Qr.autodetect.push({p:5,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(1===t.length&&"number"===Vr(t[0])){var n=(t[0]>>24&255)/255;if(n>=0&&n<=1){var e=t[0]-4278190080;if([e>>16&255,e>>8&255,255&e].every((function(t){return t>=0&&t<=255})))return"android"}}}});var rn=d,nn=h.type;rn.prototype.alpha=function(t,r){return void 0===r&&(r=!1),void 0!==t&&"number"===nn(t)?r?(this._rgb[3]=t,this):new rn([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]};var en=d,on=$;en.prototype.darken=function(t){void 0===t&&(t=1);var r=this.lab();return r[0]-=on.Kn*t,new en(r,"lab").alpha(this.alpha(),!0)},en.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},en.prototype.darker=en.prototype.darken,en.prototype.brighter=en.prototype.brighten,d.prototype.get=function(t){var r=t.split("."),n=r[0],e=r[1],o=this[n]();if(e){var a=n.indexOf(e)-("ok"===n.substring(0,2)?2:0);if(a>-1)return o[a];throw new Error("unknown channel "+e+" in mode "+n)}return o};var an={},un=d,ln=h.type,cn=an,hn=function(t,r,n){void 0===n&&(n=.5);for(var e=[],o=arguments.length-3;o-- >0;)e[o]=arguments[o+3];var a=e[0]||"lrgb";if(cn[a]||e.length||(a=Object.keys(cn)[0]),!cn[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==ln(t)&&(t=new un(t)),"object"!==ln(r)&&(r=new un(r)),cn[a](t,r,n).alpha(t.alpha()+n*(r.alpha()-t.alpha()))},sn=d,fn=hn;sn.prototype.mix=sn.prototype.interpolate=function(t,r){void 0===r&&(r=.5);for(var n=[],e=arguments.length-2;e-- >0;)n[e]=arguments[e+2];return fn.apply(void 0,[this,t,r].concat(n))};var gn=d,pn=h.type;gn.prototype.set=function(t,r,n){void 0===n&&(n=!1);var e=t.split("."),o=e[0],a=e[1],u=this[o]();if(a){var i=o.indexOf(a)-("ok"===o.substring(0,2)?2:0);if(i>-1){if("string"==pn(r))switch(r.charAt(0)){case"+":case"-":u[i]+=+r;break;case"*":u[i]*=+r.substring(1);break;case"/":u[i]/=+r.substring(1);break;default:u[i]=+r}else{if("number"!==pn(r))throw new Error("unsupported value for Color.set");u[i]=r}var l=new gn(u,o);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+a+" in mode "+o)}return u};var bn=d,vn=Math.sqrt,dn=Math.pow;an.lrgb=function(t,r,n){var e=t._rgb,o=e[0],a=e[1],u=e[2],i=r._rgb,l=i[0],c=i[1],h=i[2];return new bn(vn(dn(o,2)*(1-n)+dn(l,2)*n),vn(dn(a,2)*(1-n)+dn(c,2)*n),vn(dn(u,2)*(1-n)+dn(h,2)*n),"rgb")};var yn=d;an.oklab=function(t,r,n){var e=t.oklab(),o=r.oklab();return new yn(e[0]+n*(o[0]-e[0]),e[1]+n*(o[1]-e[1]),e[2]+n*(o[2]-e[2]),"oklab")};var kn=d,mn=k,wn=k;return wn.mix=wn.interpolate=hn,wn.valid=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];try{return new(Function.prototype.bind.apply(kn,[null].concat(t))),!0}catch(t){return!1}},wn.noHueAsZero=function(t){return void 0===t&&(t=!1),mn.hueNaN=!t,!mn.hueNaN},wn}));
